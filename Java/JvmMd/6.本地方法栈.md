### 什么是本地方法

- 一个Native Method就是一个Java调用非Java代码的接口
  
- 一个Native method是这样的一个Java方法，该方法是非Java语言实现，比如C或者C++
  
- 这个特征并非Java独有的，很多编程语言都有的
  
- 定义本地方法时，不提供任何实现体，因为实现方法并非由Java实现的

- 初衷是融合C和C++

---

### 为什么使用本地方法

- 与Java环境外交互

有的时候需要和外部环境进行交互，这是本地方法存在的主要原因。比如想访问一些底层系统，比如操作系统或某些硬件交换信息时的情况

- 与操作系统交互

通过本地方法，我们可以用Java实现jre与底层系统的交互，甚至JVM的一部分代码是C写的

- Sun'sJava

Sun的解释器是通过C实现的，这使得它能像一些普通的C一样与外部交互

---

### 本地方法栈

- 本地方法栈就是管理本地方法的调用

- 本地方法栈，也是线程私有的

- 允许被是设置为固定或者可动态扩展的

- 和本地方法库打交道的，调用本地方法库里的方法

- 当线程调用一个本地方法时，它就进入了一个全新的并且不受虚拟机限制的世界
  
    - 本地方法可以通过本地方法接口访问虚拟机的运行时数据区
    - 甚至可以直接使用本地处理器中的寄存器
    - 直接从本地内存的堆中分配任意数量的内存
    
- 并不是所有的JVM都支持本地方法

- HotSpot的虚拟机栈和本地方法栈合二为一了

---

### 本地方法测试

1.[参考地址1](https://gist.github.com/DmitrySoshnikov/8b1599a5197b5469c8cc07025f600fdb)

Note: 此测试均在src目录下创建的

2.[参考地址2](https://www.cnblogs.com/Lzly/p/6292506.html)
